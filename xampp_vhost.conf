# Virtual Host Configuration for Resume to Job Description Matcher
# Place this file in: C:\xampp\apache\conf\extra\

<VirtualHost *:80>
    ServerName resume-matcher.local
    ServerAlias www.resume-matcher.local
    DocumentRoot "C:/Users/kalpi/Desktop/Xammp/Resume_to_Job_description_Matcher/frontend/build"
    
    <Directory "C:/Users/kalpi/Desktop/Xammp/Resume_to_Job_description_Matcher/frontend/build">
        Options Indexes FollowSymLinks MultiViews
        AllowOverride All
        Require all granted
        
        # Handle React Router
        RewriteEngine On
        RewriteBase /
        RewriteRule ^index\.html$ - [L]
        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteCond %{REQUEST_FILENAME} !-d
        RewriteRule . /index.html [L]
    </Directory>
    
    # Proxy API requests to Flask backend
    ProxyPreserveHost On
    ProxyPass /api http://localhost:5000/api
    ProxyPassReverse /api http://localhost:5000/api
    
    # Logs
    ErrorLog "logs/resume-matcher-error.log"
    CustomLog "logs/resume-matcher-access.log" combined
</VirtualHost>
